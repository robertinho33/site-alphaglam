<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Cadastro e Agendamento Ladies</title>
        <link rel="stylesheet" href="css/ladies/style.css">
    </head>
    
<body>
    <header>
        <div class="menu">
            <button>☰ Menu</button>
            <ul>
                <li><a href="index.html">Voltar</a></li>
            </ul>
        </div>
    </header>

    <div class="image-grid">
        <img src="https://images.yampi.io/unsafe/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/mascara-liquida-liquid-mask-ecobelle-200-ml-66fd5cae45ed1-large.png" alt="Imagem 1" data-name="Máscara Líquida" data-price="50">
        <img src="https://images.yampi.io/unsafe/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/finalizador-termico-coco-camomila-by-vitoria-lima-200-ml-667c4d7031e63-large.png" alt="Imagem 2" data-name="Finalizador Térmico" data-price="40">
        <img src="https://images.yampi.io/unsafe/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/kit-coco-camomila-by-vitoria-lima-ecobelle-300-ml-66cf3cd879731-large.png" alt="Imagem 3" data-name="Kit Coco e Camomila" data-price="100">
        <img src="https://images.yampi.io/inOUrVjOuPjvtnpVYzL9K3-xPCg=/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/kit-pimenta-rosa-eco-belle-64ef8bb1e85f1-large.png" alt="Imagem 4" data-name="Kit Pimenta Rosa" data-price="130">
        <img src="https://images.yampi.io/BHaubHu5dG9dtvDfoDfvRrI7LB0=/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/kit-manutencao-home-care-silver-ecobelle-300ml-3-itens-67412ba3969a3-large.png" alt="Imagem 5" data-name="Kit Manutenção Home Care" data-price="130">
        <img src="https://images.yampi.io/7rhO9gyuipnSCstiL7EtGLEiFaY=/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/kit-doeden-capim-limao-alecrim-6479e42ea3cfc-large.png" alt="Imagem 6" data-name="Kit Capim Limão Alecrim" data-price="100">
        <img src="https://images.yampi.io/unsafe/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/mascara-liquida-liquid-mask-ecobelle-200-ml-66fd5cae45ed1-large.png" alt="Imagem 1" data-name="Máscara Líquida" data-price="50">
        <img src="https://images.yampi.io/unsafe/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/finalizador-termico-coco-camomila-by-vitoria-lima-200-ml-667c4d7031e63-large.png" alt="Imagem 2" data-name="Finalizador Térmico" data-price="40">
        <img src="https://images.yampi.io/unsafe/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/kit-coco-camomila-by-vitoria-lima-ecobelle-300-ml-66cf3cd879731-large.png" alt="Imagem 3" data-name="Kit Coco e Camomila" data-price="100">
        <img src="https://images.yampi.io/inOUrVjOuPjvtnpVYzL9K3-xPCg=/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/kit-pimenta-rosa-eco-belle-64ef8bb1e85f1-large.png" alt="Imagem 4" data-name="Kit Pimenta Rosa" data-price="130">
        <img src="https://images.yampi.io/BHaubHu5dG9dtvDfoDfvRrI7LB0=/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/kit-manutencao-home-care-silver-ecobelle-300ml-3-itens-67412ba3969a3-large.png" alt="Imagem 5" data-name="Kit Manutenção Home Care" data-price="130">
        <img src="https://images.yampi.io/7rhO9gyuipnSCstiL7EtGLEiFaY=/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/kit-doeden-capim-limao-alecrim-6479e42ea3cfc-large.png" alt="Imagem 6" data-name="Kit Capim Limão Alecrim" data-price="100">
        <img src="https://images.yampi.io/unsafe/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/mascara-liquida-liquid-mask-ecobelle-200-ml-66fd5cae45ed1-large.png" alt="Imagem 1" data-name="Máscara Líquida" data-price="50">
        <img src="https://images.yampi.io/unsafe/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/finalizador-termico-coco-camomila-by-vitoria-lima-200-ml-667c4d7031e63-large.png" alt="Imagem 2" data-name="Finalizador Térmico" data-price="40">
        <img src="https://images.yampi.io/unsafe/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/kit-coco-camomila-by-vitoria-lima-ecobelle-300-ml-66cf3cd879731-large.png" alt="Imagem 3" data-name="Kit Coco e Camomila" data-price="100">
        <img src="https://images.yampi.io/inOUrVjOuPjvtnpVYzL9K3-xPCg=/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/kit-pimenta-rosa-eco-belle-64ef8bb1e85f1-large.png" alt="Imagem 4" data-name="Kit Pimenta Rosa" data-price="130">
        <img src="https://images.yampi.io/BHaubHu5dG9dtvDfoDfvRrI7LB0=/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/kit-manutencao-home-care-silver-ecobelle-300ml-3-itens-67412ba3969a3-large.png" alt="Imagem 5" data-name="Kit Manutenção Home Care" data-price="130">
        <img src="https://images.yampi.io/7rhO9gyuipnSCstiL7EtGLEiFaY=/fit-in/275x275/filters:background_color(white):upscale()/https://images.yampi.me/assets/stores/grupo-ecobelle/uploads/images/kit-doeden-capim-limao-alecrim-6479e42ea3cfc-large.png" alt="Imagem 6" data-name="Kit Capim Limão Alecrim" data-price="100">
    </div>

    <div class="cart">
        <h2>Meu Carrinho</h2>
        <ul id="cart-items"></ul>
        <div class="total" id="total-price">Total: R$ 0,00</div>
        <div id="form-carrinho" style="display: none;">
            <h2>Informe seus dados</h2>   

         <!-- Formulário Simples no Carrinho -->
        
            <form action="https://getform.io/f/endpoint-carrinho" method="POST">
                <label for="nome-carrinho">Nome</label>
                <input type="text" id="nome-carrinho" name="nome" required>
                
                <label for="telefone-carrinho">Telefone</label>
                <input type="text" id="telefone-carrinho" name="telefone" required>
                
                <div class="buttons">
                   <button id="checkout-btn">Finalizar Compra</button>
                   <button type="button" class="btn btn-primary" name="não-tenho-cadastro">Não tenho cadastro</button>
               </div>
            </form>
        </div>
      
    </div>
    <div>
        <button id="already-registered">Já tenho cadastro</button>         
    </div>
    <div id="form-cadastro" style="display: none;">
        <h1>Cadastro Ladies</h1>
        <form action="https://getform.io/f/ayvvqnnb" method="POST">
            <label for="nome">Nome</label>
            <input type="text" id="nome" name="nome" required>
            <label for="telefone">Telefone</label>
            <input type="text" id="telefone" name="telefone" required>
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required>
            <button type="submit">Cadastrar</button>
        </form>
    </div>
    
        <div>
            <form  action="https://getform.io/f/ayvvqnnb" method="POST">
        <label for="data">Data de Agendamento</label>
        <input type="date" id="data" name="data" required>
        <label for="horario">Horário de Agendamento</label>
        <select id="horario" name="horario" required>
            <option value="10:00">09:00</option>
            <option value="14:00">10:00</option>
            <option value="16:00">11:00</option>
            <option value="18:00">12:00</option>
            <option value="10:00">13:00</option>
            <option value="14:00">14:00</option>
            <option value="16:00">15:00</option>
            <option value="18:00">15:00</option>
            <option value="14:00">16:00</option>
            <option value="16:00">17:00</option>
            <option value="18:00">18:00</option>
            <option value="10:00">19:00</option>
         </select>
         <label for="Servicos">Serviços</label>
         <input type="Servicos" id="Servicos" name="Servicos" required>
          <button type="submit">Agendar</button>
    </form>
</div>
    <script>
   let cart = [];

const images = document.querySelectorAll('.image-grid img');
const cartItems = document.getElementById('cart-items');
const totalPrice = document.getElementById('total-price');
const checkoutBtn = document.getElementById('checkout-btn'); // Correção: Captura do botão de finalização

// Adiciona os produtos ao carrinho quando clicados
images.forEach(image => {
    image.addEventListener('click', () => {
        const name = image.getAttribute('data-name');
        const price = parseFloat(image.getAttribute('data-price'));
        const src = image.getAttribute('src');  // Captura a imagem do produto
        cart.push({ name, price, src }); // Agora também inclui a imagem

        // Atualiza a exibição do carrinho
        updateCart();
        
    });
    document.getElementById('already-registered').addEventListener('click', () => {
    const formCadastro = document.getElementById('form-cadastro');
    const formCarrinho = document.getElementById('form-carrinho');
    
    // Alterna a visibilidade dos formulários
    formCadastro.style.display = 'none'; // Esconde o formulário de cadastro
    formCarrinho.style.display = 'block'; // Exibe o formulário simples no carrinho
});

});

// Atualiza o carrinho na tela
function updateCart() {
    cartItems.innerHTML = '';  // Limpa o carrinho antes de atualizar
    let total = 0;

    cart.forEach((item, index) => {
        const li = document.createElement('li');
        
        // Cria um elemento de lista com a imagem e o nome + preço
        li.innerHTML = `
            <img src="${item.src}" alt="${item.name}" style="width: 50px; height: auto; margin-right: 10px; border-radius: 5px;">
            ${item.name} - R$ ${item.price.toFixed(2)}
            <button class="remove-item" data-index="${index}">Excluir</button>  <!-- Botão de excluir -->
        `;
        
        // Adiciona o item ao carrinho
        cartItems.appendChild(li);
        
        // Soma o preço total
        total += item.price;
    });

    totalPrice.textContent = `Total: R$ ${total.toFixed(2)}`;

    // Adiciona a funcionalidade de exclusão ao botão
    const removeButtons = document.querySelectorAll('.remove-item');
    removeButtons.forEach(button => {
        button.addEventListener('click', (event) => {
            const index = event.target.getAttribute('data-index');
            cart.splice(index, 1);  // Remove o item do carrinho
            updateCart();  // Atualiza o carrinho após remoção
        });
    });
}

// Lógica para finalizar a compra e enviar o pedido via WhatsApp
checkoutBtn.addEventListener('click', () => {
    if (cart.length === 0) {
        alert('Adicione ao menos um item ao carrinho antes de finalizar a compra.');
        return;
    }

    const items = cart.map(item => `${item.name} - R$ ${item.price.toFixed(2)}`).join('%0A');
    const total = cart.reduce((sum, item) => sum + item.price, 0).toFixed(2);
    const message = `Olá! Gostaria de finalizar o seguinte pedido:%0A%0A${items}%0A%0ATotal: R$ ${total}`;

    // Envia o pedido para o WhatsApp
    window.open(`https://wa.me/5511986215473?text=${message}`, '_blank');
});

document.getElementById('already-registered').addEventListener('click', () => {
    const formCadastro = document.getElementById('form-cadastro');
    const formCarrinho = document.getElementById('form-carrinho');

    formCadastro.style.display = 'none'; // Esconde o formulário de cadastro
    formCarrinho.style.display = 'block'; // Exibe o formulário do carrinho
});

document.querySelector('button[name="não-tenho-cadastro"]').addEventListener('click', () => {
    const formCadastro = document.getElementById('form-cadastro');
    const formCarrinho = document.getElementById('form-carrinho');

    formCadastro.style.display = 'block'; // Exibe o formulário de cadastro
    formCarrinho.style.display = 'none'; // Esconde o formulário do carrinho
});
document.addEventListener('DOMContentLoaded', () => {
    const formCadastro = document.getElementById('form-cadastro');
    const formCarrinho = document.getElementById('form-carrinho');
    const btnJaTenhoCadastro = document.getElementById('already-registered');
    const btnNaoTenhoCadastro = document.querySelector('button[name="não-tenho-cadastro"]');

    // Esconde o formulário de cadastro inicialmente
    formCadastro.style.display = 'none';

    // Exibe o formulário de carrinho ao clicar em "Já tenho cadastro"
    btnJaTenhoCadastro.addEventListener('click', () => {
        formCadastro.style.display = 'none';
        formCarrinho.style.display = 'block';
    });

    // Exibe o formulário de cadastro ao clicar em "Não tenho cadastro"
    btnNaoTenhoCadastro.addEventListener('click', () => {
        formCadastro.style.display = 'block';
        formCarrinho.style.display = 'none';
    });
});



</script>
</body>
</html>
